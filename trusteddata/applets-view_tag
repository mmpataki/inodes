{"id":"view_tag","content":"{\"html\":\"\",\"js\":\"let A \u003d getUApi();\\nlet tagName \u003d A.getInput()[0]\\n\\nif(!tagName) {\\n   A.makeH3({innerText: \u0027No tag is selected. Paste \\\"!tag-name\\\" to provide tagname input\u0027})\\n   return;\\n}\\n\\nget(`/tags/${tagName}`)\\n .then(resp \u003d\u003e JSON.parse(resp.response))\\n .then(tag \u003d\u003e {\\n\\n   A.makeH2({innerHTML: `\u003cspan class\u003d\u0027tag\u0027\u003e${tag.basic.name}\u003c/span\u003e`, style: \u0027display: inline; margin-right: 5px\u0027})\\n   //A.makeSpan({innerText: `x ${tag.basic.hits}`})\\n\\n   let info \u003d A.makeDiv({style: \u0027margin-left: 20px\u0027})\\n   A.makeP({innerText: tag.basic.description || \u0027No description available\u0027}, info)\\n\\n   let html \u003d \\\"\\\"\\n   let dcm \u003d tag.extra.docCount\\n   Object.keys(dcm).filter(k \u003d\u003e dcm[k] !\u003d 0).forEach(key \u003d\u003e {\\n     html +\u003d `\u003ctr\u003e\\n                 \u003ctd\u003e${dcm[key]}\u003c/td\u003e\\n                 \u003ctd\u003e${key}\u003c/td\u003e\\n              \u003c/tr\u003e`\\n   })\\n   A.makeH4({innerText: \u0027Tagged posts\u0027}, info)\\n   A.makeEle(\u0027table\u0027, {innerHTML: html, style: \u0027margin-left: 30px\u0027}, info)\\n\\n   let subBut \u003d A.makeButton({innerText: \u0027Subscribe\u0027, style: \u0027margin-top: 20px\u0027}, info)\\n   subBut.addEventListener(\u0027click\u0027, e \u003d\u003e {\\n      post(`/subscribe?subscriberType\u003dUSER\u0026subscriberId\u003d${getCurrentUser()}\u0026objTyp\u003dTAG\u0026objId\u003d${tag.name}\u0026event\u003dALL`)\\n        .then(e \u003d\u003e showSuccess(`You have subscribed to tag: ${tag.name}`))\\n        .catch(e \u003d\u003e showError(e.message))\\n   });\\n\\n   let grpName \u003d A.makeInput({placeholder: \u0027groupname\u0027, style: \u0027display: inline; width: 20%\u0027}, info)\\n   let subGBut \u003d A.makeButton({innerText: \u0027Subscribe For Group\u0027, style: \u0027margin-top: 20px; display: inline\u0027}, info)\\n   subGBut.addEventListener(\u0027click\u0027, e \u003d\u003e {\\n      let grp \u003d grpName.value;\\n      post(`/subscribe?subscriberType\u003dGROUP\u0026subscriberId\u003d${grp}\u0026objTyp\u003dTAG\u0026objId\u003d${tag.basic.name}\u0026event\u003dALL`)\\n        .then(e \u003d\u003e showSuccess(`${grp} subscribed to tag: ${tag.name}`))\\n        .catch(e \u003d\u003e showError(e.message))\\n   });\\n })\\n .catch(e \u003d\u003e showError(e.message))\\n\"}","type":"applets","tags":["inodesapp","viewtag"],"owner":"admin","postTime":1615199107611,"visibility":["u-admin","g-security"],"savedVisibility":["u-admin","g-security"],"needsApproval":false}