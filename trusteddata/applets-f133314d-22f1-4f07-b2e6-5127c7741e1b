{"id":"f133314d-22f1-4f07-b2e6-5127c7741e1b","content":"{\"html\":\"\u003ch3\u003eAdmin console\u003c/h3\u003e\\n\",\"js\":\"(function() {\\n\\nlet A \u003d getUApi();\\n\\nA.makeButton({innerText: \u0027Backup\u0027})\\n  .addEventListener(\u0027click\u0027, function() {\\n     post(`/backup`)\\n       .then(x \u003d\u003e showSuccess(\u0027Backup created successfully\u0027))\\n       .catch(x \u003d\u003e showError(x.message))\\n  })\\n\\nA.makeButton({innerText: \u0027Delete all\u0027})\\n  .addEventListener(\u0027click\u0027, function() {\\n     delet(`/deleteall`)\\n       .then(x \u003d\u003e showSuccess(\u0027Deleted all documents\u0027))\\n       .catch(x \u003d\u003e showError(x.message))\\n  })\\n\\nA.makeButton({innerText: \u0027Restore content\u0027})\\n  .addEventListener(\u0027click\u0027, function() {\\n     post(`/restore`)\\n       .then(x \u003d\u003e showSuccess(\u0027Restore content done\u0027))\\n       .catch(x \u003d\u003e showError(x.message))\\n  })\\n\\nA.makeButton({innerText: \u0027Restore trusted content\u0027})\\n  .addEventListener(\u0027click\u0027, function() {\\n     post(`/loadtrusted`)\\n       .then(x \u003d\u003e showSuccess(\u0027Restore trusted content done\u0027))\\n       .catch(x \u003d\u003e showError(x.message))\\n  })\\n\\n\\nA.makeButton({innerText: \u0027Upgrade / Patch\u0027})\\n .addEventListener(\u0027click\u0027, function() {\\n   inodes.runCommand(\\n      `\\n          cd /root/inodes\\n          pwd\\n          ls -larth\\n          ps -ef | grep inodes-mai[n] | awk \u0027{print $2}\u0027\\n          ps -ef | grep inodes-mai[n] | awk \u0027{print $2}\u0027 | xargs kill -9\\n          rm main.zip inodes-main -rf\\n          wget https://github.com/mmpataki/inodes/archive/main.zip\\n          unzip main.zip\\n          rm main.zip\\n          cp config.properties inodes-main\\n          cd inodes-main\\n          nohup mvn spring-boot:run 2\u003e\u00261 \u003eserverr.log \u0026\\n          sleep 5\\n          tail -f serverr.log\\n          echo \u0027Restarted successfully\u0027\\n      `, out\\n   );\\n});\\n\\nlet out \u003d A.makeDiv({style: \u0027overflow:auto; padding: 10px\u0027})\\n\\n})()\"}","type":"applets","tags":["inodesapp","reset","inodes"],"owner":"admin","postTime":1615107319141,"visibility":["u-admin","g-security"],"savedVisibility":["u-admin","g-security"],"needsApproval":false}