{"id":"02df8f39-5a49-438e-977b-466b496668fb","content":"{\"html\":\"\",\"js\":\"let U \u003d getUApi();\\n\\nU.makeH3({innerHTML: \u0027My pending permission requests\u0027})\\nlet container \u003d U.makeDiv()\\n\\nget(\u0027/data/permission-requests\u0027)\\n.then(resp \u003d\u003e JSON.parse(resp.response))\\n.then(reqs \u003d\u003e {\\n    console.log(reqs)\\n    tabulate(reqs, container, {\\n       keys : {\\n           \\\"Document Link\\\": {\\n              vFunc : (r) \u003d\u003e {\\n                  return { ele: \u0027a\u0027, attribs: { href: `/?q\u003d@${r.docId}` }, text: r.docId}\\n              }\\n           },\\n           \\\"Requested on\\\" : {\\n              vFunc : (r) \u003d\u003e new Date(r.reqTime).toLocaleString(),\\n              sortable: true\\n           },\\n           Owners : {\\n              vFunc : (r) \u003d\u003e {\\n                 let splt \u003d x \u003d\u003e x.substring(2)\\n                 let ugico \u003d x \u003d\u003e x[0] \u003d\u003d \u0027u\u0027 ? \u0027\u0026#x1F464;\u0027 : \u0027\u0026#x1F465;\u0027\\n                 let ugtag \u003d x \u003d\u003e ({\\n                       ele: \u0027a\u0027, \\n                       attribs: { href: `/?q\u003d%23inodesapp %23user !${x}`, style: \u0027background-color: #eaeaea; padding: 5px 10px; border-radius: 2px; margin: 0px 2px\u0027 }, \\n                       text: `${ugico(x)} ${splt(x)}`, \\n                 })\\n                 return {ele: \u0027div\u0027, children: r.reqTo.map(ugtag)}\\n              }\\n           }\\n       },\\n       defaultSortKey: \u0027Requested on\u0027\\n    })\\n})\"}","type":"applets","tags":["inodesapp","mypermissionrequests"],"owner":"admin","postTime":1621486832769,"visibility":["g-public"],"savedVisibility":["g-public"],"needsApproval":false}